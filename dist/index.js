const t={select:"get",insert:"post",update:"put",delete:"delete"},e=/,/gi;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e);if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function o(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let i,s,a=new Map;function u(t){i=t,a=new Map}const c={get apiUrl(){return i.apiUrl},get options(){return i.options||{}},getNestedRoute(t,e){var r;if(null!==(r=i)&&void 0!==r&&r.pathMap){const r=i.pathMap[t];return r?function(t,e){if(!e)throw new Error("You cannot query a nested route without a conditional clause (e.g., WHERE clause)");const r=function(t){const e=t.match(l)||[t];return e.map(t=>t.replace(f,""))}(t);return r.reduce((t,r)=>t.replace(`{${r}}`,e[r]),t)}(r,e):r}},dataExtractor:t=>i.dataExtractor?i.dataExtractor(t):t,refresh(t){i.refresh(t).then(t=>{i.options.headers=t})},hasRefresh:()=>i.hasOwnProperty("refresh"),getPolicy(t){var e;return t&&null!==(e=i[t])&&void 0!==e&&e.policy?i[t].policy:i.policy},hasPolicy(t){const e="policy";return i[t]&&i[t].hasOwnProperty(e)||i.hasOwnProperty(e)},hasCancel:()=>i.canCancel,set cancel(t){i.cancelController=t},hasDebug:()=>Boolean(i.debug),hasNodeProvider:()=>i.hasOwnProperty("nodeProvider"),getNodeProvider:()=>i.nodeProvider,hasAddons:()=>i.hasOwnProperty("addons"),getAddons:()=>(s||(s=i.addons.map(t=>(t.queryParser=t.queryParser.bind(t),t.resultSetFilter=t.resultSetFilter.bind(t),t))),s||[]),get path(){return i.path||{url:"",config:{}}},hasPagination:()=>Boolean(i&&i.paginationToken),getPaginationSpec:()=>i.paginationToken||{},getPaginationParamName(){const t=this.getPaginationSpec();return t.param||t.requestParam||"paginationToken"},buildPaginationKey(t,e,r){if(!e)return t;const n=e.split("&").filter(t=>!t.startsWith(`${r}=`));n.sort();const o=n.join("&");return o?`${t}?${o}`:t},getPaginationState:t=>a.get(t),setPaginationState(t,e){a.set(t,e)},clearPaginationState(t){a.delete(t)},hasMore(t){const e=a.get(t);return Boolean(e&&e.hasMore)},extractNextToken(t,e,r){const n=this.getPaginationSpec(),o=(t,e)=>{if(!t||!e)return;const r=e.split(".");let n=t;for(let t=0;t<r.length;t++){const e=r[t];if(!n||!Object.prototype.hasOwnProperty.call(n,e))return;n=n[e]}return n};if("function"==typeof n.responsePath)try{return n.responsePath({data:t,extracted:e,headers:r})}catch(t){return}let i;return n.responseHeader&&r&&"function"==typeof r.get&&(i=r.get(n.responseHeader),i)||n.responsePath&&(i=o(t,n.responsePath),null==i&&e&&e!==t&&(i=o(e,n.responsePath))),i}};const l=/{(.*?)}/g,f=/[{}]/g;function p(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}const h="object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node,g={get:(t,e)=>b(t,"GET",e),put:(t,e)=>b(t,"PUT",e),post:(t,e)=>b(t,"POST",e),delete:t=>b(t,"DELETE")};function m(t){return h&&c.hasNodeProvider()?(e=function(t){return c.hasDebug()&&P(t,y(y({method:t.method},t.body?{body:JSON.stringify(t.body)}:{}),t.headers?{headers:t.headers}:{})),c.getNodeProvider()}(t),async function(t,r=0,n,o){try{const i=await e(t,r,n,o);if(null!=n&&n.hasPagination&&n.hasPagination()&&t.__paginationKey){const e=v(t,i.data,i.data,void 0);return y(y({},i),{},{data:e})}return i}catch(e){try{return await O(t,r,n,o)}catch(t){throw e}}}):O;var e}function b(t,e,r){const n=r&&"GET"===e,{host:o,options:i}=function(t){const e=c.path.hasOwnProperty(t),r=function(t){return t&&t.length>1&&t.endsWith("/")?t.slice(0,-1):t}(e&&e.url||c.apiUrl);return{host:r,options:e&&e.options||c.options}}(t),s=n?function(t,e,r){if(!c.hasPagination())return{finalData:e};const n=c.getPaginationParamName(),o=p(e||{}),i=`${r}/${t}`,s=c.buildPaginationKey(i,o,n),a=c.getPaginationState(s);return{finalData:a&&a.token?y(y({},e||{}),{},{[n]:a.token}):e,paginationKey:s,paginationParam:n}}(t,r,o):{},a=function({url:t,method:e,data:r,finalData:n,host:o,options:i,pagination:s,isGetData:a}){const u=y(y({method:e,url:`${o}/${t}${a?`?${p(n)}`:""}`,json:!0},a?{}:{body:r}),i);return s&&s.paginationKey&&(u.__paginationKey=s.paginationKey,u.__paginationParam=s.paginationParam),u}({url:t,method:e,data:r,finalData:s.finalData||r,host:o,options:i,pagination:s,isGetData:n});return function(t,e,r){const n=()=>t(e,0,c,r);return c.hasPolicy(r)?c.getPolicy(r).execute(n):n()}(m(a),a,t)}function v(t,e,r,n){try{const o=t.__paginationKey,i=t.__paginationParam,s=c.getPaginationState(o),a=c.extractNextToken(e,r,n);return a?(c.setPaginationState(o,{token:a,hasMore:!0,param:i}),r):s&&s.token?(c.clearPaginationState(o),Array.isArray(r),[]):r}catch(t){return r}}function P(t,e){console.log("[querty][debug] api request:",{url:t.url,options:e})}async function O(t,e=0,r,n){const o=function(t){let e,r;return c.hasCancel()&&(e=new AbortController,r=e.signal,c.cancel=e),y(y(y({method:t.method},r?{signal:r}:{}),t.body?{body:JSON.stringify(t.body)}:{}),t.headers?{headers:t.headers}:{})}(t);!function(t,e){if(c.hasDebug()){const r=y({},t);r.signal&&(r.signal="[AbortSignal]"),P(e,r)}}(o,t);const i=await fetch(t.url,o);if(function(t,e){return 401===t&&0===e&&c.hasRefresh()}(i.status,e)){const e=await async function(t,e){await c.refresh(e);const r=c.path.hasOwnProperty(e),n=r&&r.options||c.options;return y(y({},t),{},{headers:n.headers})}(t,n);return O(e,1,r,n)}return async function(t,e){const r=await t.json();let n=c.dataExtractor(r);return c.hasPagination()&&e.__paginationKey&&(n=v(e,r,n,t.headers)),{status:t.status,data:n}}(i,t)}function j(t){return t.trim()}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}const E=/[()']/g,N=/\bJOIN\b|\bLEFT\s+JOIN\b|\bFULL\s+JOIN\b/gi,A=/\bJOIN\b|\bLEFT\s+JOIN\b|\bFULL\s+JOIN\b|\bON\b/i;function D(t){const{fieldsStr:e,fromSegment:r,whereSegment:n,groupByStr:o,havingStr:i,orderByStr:s}=function(t){const e=new RegExp([/^\s*SELECT\s+([\s\S]*?)/,/\s+FROM\s+([\s\S]*?)/,/(?:\s+WHERE\s+([\s\S]*?))?/,/(?:\s+GROUP\s+BY\s+([\s\S]*?))?/,/(?:\s+HAVING\s+([\s\S]*?))?/,/(?:\s+ORDER\s+BY\s+([\s\S]*?))?\s*$/].map(t=>t.source).join(""),"i"),r=t.match(e);if(!r)throw new Error("Invalid or unsupported SELECT query format");const n=(r[1]||"").trim(),o=(r[2]||"").trim(),i=r[3]?r[3].trim():void 0,s=r[4]?r[4].trim():void 0,a=r[5]?r[5].trim():void 0,u=r[6]?r[6].trim():void 0;return{fieldsStr:n,fromSegment:o,whereSegment:i,groupByStr:s,havingStr:a,orderByStr:u}}(t),a=function(t){return C(t)}(e),u=function(t){return t?C(t):void 0}(o),c=function(t){if(!t)return;const e=t.split(",").map(t=>t.trim()).filter(Boolean);return e.map(t=>{var e;const r=t.split(/\s+/).filter(Boolean),n=null===(e=r[r.length-1])||void 0===e?void 0:e.toUpperCase();let o="ASC";"ASC"!==n&&"DESC"!==n||(r.pop(),o=n);return{field:r.join(" ").trim(),direction:o}})}(s),{joinMatch:l,tables:f,joinCond:p,join:d}=function(t){const e=t.match(N);if(e){const[r,...n]=t.split(A),{joinTables:o,clauses:i}=n.reduce((t,e,r)=>(t[r%2==0?"joinTables":"clauses"].push(e.trim()),t),{joinTables:[r.trim()],clauses:[]});return{joinMatch:e,tables:o.map(j),joinCond:function(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r],[o,i]=n.split("="),[,s]=o.split(".").map(j),[,a]=i.split(".").map(j);e.push([s,a])}return e}(i),join:e}}return{joinMatch:null,tables:t,joinCond:void 0,join:void 0}}(r),y=function(t){let e,r;if(t&&t.length>0){const n=t.match(/^(.*?)\s+IN\s*\(([\s\S]*?)\)\s*$/i);if(n){return{field:n[1].trim(),operator:"IN",values:I(`(${n[2].trim()})`)}}const o=t.indexOf("=");-1!==o&&(e=t.slice(0,o).trim(),r=t.slice(o+1).trim())}return{field:e,value:r}}(n),h=(()=>{if(!(n||l||u||i||c))return;const t={};return"IN"===(null==y?void 0:y.operator)?(t.operator="IN",t.values=y.values,y.field&&(t[y.field]=y.values)):null!=y&&y.field&&(t.value=y.value,t[y.field]=y.value),S(S({},t),{},{join:d,joinCond:p,groupBy:u,having:null==i?void 0:i.trim(),orderBy:c})})();return S({entities:l?f:C(f),fields:a},h?{conditions:h}:{})}function C(t){return t.split(",").map(j)}function T(t){const e=t.split(/INSERT INTO \b(\w+)\b|\bVALUES\b/i),r=e[2].replace(E,"").split(",").map(j);const n=I(e[4]);return{entity:e[1],data:r.reduce((t,e,r)=>(t[e]=n[r],t),{})}}function $(t){const e=new RegExp([/^s*UPDATEs+(\w+)/,/s+SETs+(.*?)/,/s+WHEREs+(.*)$/].map(t=>t.source.replace(/s/g,"\\s")).join(""),"i"),r=t.match(e);if(!r)throw new Error("Invalid or unsupported UPDATE query format");const n=r[1],o=r[2],i=r[3],s=function(t,e){return Object.fromEntries([...t.matchAll(e)].map(([,t,e,r])=>{const n=void 0!==e?e:r,o=n&&!isNaN(n)&&""!==n.trim()?Number(n):n;return[t.trim(),o]}))}(o,/(\w+)\s*=\s*(?:'([^']*)'|(\S+?))(?:,|$)/g),a=i.split("=")[1].trim();return{entity:n.trim(),data:s,id:a}}function I(t){return t.trim().slice(1,-1).split(",").map(t=>{const e=t.trim();if(e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(e)&&""!==e.trim())return Number(e);return"null"===e.toLowerCase()?null:e})}function R(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B,k,L,_,q,M;function x(){if(k)return B;k=1,B=function(i){return t.test(i)?i.toLowerCase():e.test(i)?(function(t){return t.replace(n,function(t,e){return e?" "+e:""})}(i)||i).toLowerCase():r.test(i)?function(t){return t.replace(o,function(t,e,r){return e+" "+r.toLowerCase().split("").join(" ")})}(i).toLowerCase():i.toLowerCase()};var t=/\s/,e=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/;var n=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g;return B}var J,U=R(function(){if(M)return q;M=1;var t=function(){if(_)return L;_=1;var t=x();return L=function(e){return t(e).replace(/[\W_]+(.|$)/g,function(t,e){return e?" "+e:""}).trim()}}();return q=function(e){return t(e).replace(/\s(\w)/g,function(t,e){return e.toUpperCase()})}}()),W={};var F=function(){if(J)return W;J=1,Object.defineProperty(W,"__esModule",{value:!0}),W.fullJoin=W.leftJoin=W.join=void 0;const t=(t,e)=>{const r=new Map;for(const n of t){const t=e(n);if(r.has(t)){const e=r.get(t);e.push(n),r.set(t,e)}else r.set(t,[n])}return r},e=(e,r,n,o,i,s,a)=>{const u=t(e,n);if(!a&&0===u.size)return[];const c=t(r,o);if(!s&&0===c.size)return[];const l=[];for(const t of u.keys())if(c.has(t)){const e=u.get(t),r=c.get(t);e.forEach(t=>r.forEach(e=>l.push(i(t,e))))}else if(s){u.get(t).forEach(t=>l.push(i(t,void 0)))}if(a)for(const t of c.keys())if(!u.has(t)){c.get(t).forEach(t=>l.push(i(void 0,t)))}return l};return W.join=(t,r,n,o,i)=>e(t,r,n,o,(t,e)=>i(t,e),!1,!1),W.leftJoin=(t,r,n,o,i)=>e(t,r,n,o,(t,e)=>i(t,e),!0,!1),W.fullJoin=(t,r,n,o,i)=>e(t,r,n,o,(t,e)=>i(t,e),!0,!0),W}();function K(t){return Array.isArray(t)?t:[t]}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}const z="fullJoin",Y="DESC",Z="IN",V="=",Q=".",X=" as ",tt="id",et="data",rt="*",nt=(t,e)=>{const r=G(G({},t),e);return t&&t[tt]?G(G({},r),{},{[tt]:t[tt]}):r},ot=(t,e)=>G(G({},t),e);function it(t,e,r,n={},o){var i,s;const a=function(t,e,r,n){const o=1===t.length;return t.reduce((t,i,s)=>{const a=function(t,e,r){const n=t[e][et];if(Array.isArray(n))return n;if(n&&"object"==typeof n&&Object.prototype.hasOwnProperty.call(n,r)){const t=n[r];return Array.isArray(t)?t:[t]}return[n]}(e,s,i),[u]=a;return t[i]=u?function(t,e,r,n,o,i){const s=lt(t,e);if(a=s,a.includes(rt))return o;var a;const u=s.map(t=>t.includes(X)?t.split(X)[0]:t).filter(t=>t!==rt&&!t.includes(Q)),c=function(t,e,r){return t?[...new Set(e)]:(()=>{const t=new Set(r.flatMap(t=>t&&"object"==typeof t?Object.keys(t):[]));return[...new Set(e.filter(e=>t.has(e)))]})()}(i,u,o),l=n?[...new Set(n.flat())]:[];return function(t,e,r){const n=function(t){return t.reduce((t,e)=>{if(e.includes(X)){const[r,n]=e.split(X);t[r]=n}return t},{})}(e);return r.map(e=>t.reduce((t,r)=>(t[n[r]||r]=Object.prototype.hasOwnProperty.call(e,r)?e[r]:null,t),{}))}([...c,...l],s,o)}(r,i,0,n,a,o):[],t},{})}(e,t,r,null==n?void 0:n.joinCond),u=null!=n&&n.join?function(t,e){const{join:r,joinCond:n}=t,o=Object.values(e).map(K),[i,...s]=o;return s.reduce((t,e,o)=>{const i=(s=r[o],U(s.replace(/\s/,"_")));var s;const[a,u]=n[o];var c;return((t,e,r,n,o,i)=>t(e,r,t=>t[n],t=>t[o],i))("leftJoin"===(c=i)?F.leftJoin:c===z?F.fullJoin:F.join,t,e,a,u,o>0&&i===z?ot:nt)},i)}(n,a):a,c=[(null==n||null===(i=n.groupBy)||void 0===i?void 0:i.length)>0?t=>function(t,e,r){return t.join?function(t,e){if(!Array.isArray(t))return t;const r=e.map(t=>t.includes(Q)?t.split(Q)[1]:t);return ct(t,r)}(e,t.groupBy):function(t,e,r){return e.reduce((e,n)=>{const o=t[n];if(Array.isArray(o)){const t=lt(r,n).map(t=>t.includes(X)?t.split(X)[0]:t);e[n]=ct(o,t)}else e[n]=o;return e},{})}(e,r,t.groupBy)}(n,t,e):null,!(null==n||!n.having)&&(t=>function(t,e,r,n){const o=function(t){if(!t)return;const e=t.match(/^(.*?)\s+IN\s*\(([^)]*)\)\s*$/i);if(e){const t=e[1].trim(),r=e[2].trim(),n=r.split(",").map(t=>ut(t.trim()));return{field:t,operator:Z,values:n}}const r=t.indexOf(V);if(-1!==r){const e=t.slice(0,r).trim(),n=t.slice(r+1).trim();return{field:e,operator:V,value:ut(n)}}return}(r);if(!o)return t;if(n)return function(t,e){if(!Array.isArray(t))return t;const r=e.field.includes(Q)?e.field.split(Q)[1]:e.field;return t.filter(t=>at(null==t?void 0:t[r],e))}(t,o);{const r=o.field.includes(Q)?o.field.split(Q)[0]:null,n=o.field.includes(Q)?o.field.split(Q)[1]:o.field;return e.reduce((e,i)=>{const s=t[i];return e[i]=!Array.isArray(s)||r&&r!==i?s:s.filter(t=>at(null==t?void 0:t[n],o)),e},{})}}(t,e,n.having,Boolean(n.join))),(null==n||null===(s=n.orderBy)||void 0===s?void 0:s.length)>0&&(t=>function(t,e,r,n){return n?function(t,e){if(!Array.isArray(t))return t;const r=e.map(t=>({key:t.field.includes(Q)?t.field.split(Q)[1]:t.field,dir:t.direction}));return st(t.slice(),r)}(t,r):e.reduce((e,n)=>{const o=t[n];if(!Array.isArray(o))return e[n]=o,e;const i=function(t,e){return t.reduce((t,r)=>{if(r.field.includes(Q)){const[n,o]=r.field.split(Q);n===e&&t.push({key:o,dir:r.direction})}else t.push({key:r.field,dir:r.direction});return t},[])}(r,n);return e[n]=i.length>0?st(o.slice(),i):o,e},{})}(t,e,n.orderBy,Boolean(n.join))),o].filter(Boolean);return c.reduce((t,e)=>e(t),u)}function st(t,e){return e&&0!==e.length?t.sort((t,r)=>{for(let n=0;n<e.length;n++){const{key:o,dir:i}=e[n],s=null==t?void 0:t[o],a=null==r?void 0:r[o];if(null!=s||null!=a){if(null==s)return 1;if(null==a)return-1;if(s<a)return i===Y?1:-1;if(s>a)return i===Y?-1:1}}return 0}):t}function at(t,e){return e.operator===Z?e.values.some(e=>e===t):String(t)===String(e.value)}function ut(t){if(!t)return t;if(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))return t.slice(1,-1);return"null"===t.toLowerCase()?null:isNaN(t)||""===t.trim()?t:Number(t)}function ct(t,e){if(!e||0===e.length)return t;const r=t.reduce((t,r)=>{const n=e.map(t=>String(null==r?void 0:r[t])).join("|#|");return t.has(n)||t.set(n,r),t},new Map);return Array.from(r.values())}function lt(t,e){return t.reduce((t,r)=>{const[n,o]=r.split(Q);return t.push(n===e?o:r),t},[])}const ft=(...t)=>e=>t.reduceRight((t,e)=>e(t),e);const pt={[t.select]:async function(t,e,r={}){const{queryParser:n,resultSetFilter:o}=r,{fields:i,entities:s,conditions:a}=n(D(t));return it(await Promise.all(s.map(t=>{const r=function(t={},e){const r=c.getNestedRoute(e,t);return r||(t.value?`${e}/${t.value}`:e)}(a,t);return g.get(r,e)})),s,i,a,o)},[t.insert]:async function(t,e){const r={},{entity:n,queryData:o}=function(t,e){let r,n;if(t)r=e.replace(/INSERT INTO/i,"").trim(),n=t;else{const t=T(e);r=t.entity,n=t.data}return{entity:r,queryData:n}}(e,t),i=await g.post(n,o);return r[n]?r[n].push(i.data):r[n]=[i.data],r},[t.update]:async function(t,e){const r={},{entity:n,queryData:o,id:i}=function(t,e){let r,n,o;if(t){const[,i,s]=e.split(/UPDATE\b|\bWHERE\b/i);o=s.split("=")[1].trim(),r=i.trim(),n=t}else{const t=$(e);r=t.entity,n=t.data,o=t.id}return{entity:r,queryData:n,id:o}}(e,t),s=await g.put(`${n}/${i}`,o);return r[n]=s.data,r},[t.delete]:async function(t){const{entity:e,id:r}=function(t){const e=new RegExp([/^s*DELETEs+FROMs+(\w+)/,/s+WHEREs+(.*)$/].map(t=>t.source.replace(/s/g,"\\s")).join(""),"i"),r=t.match(e);if(!r)throw new Error("Invalid or unsupported DELETE query format");return{entity:r[1],id:r[2].split("=")[1].trim()}}(t);return await g.delete(`${e}/${r}`),{id:r}}};async function dt(r,n){const[o]=function(t){return t.replace(e,"").split(" ")}(r),i=t[o.toLowerCase()],s=function(){let t=t=>t,e=t=>t;if(c.hasAddons()){const{queryParsers:r,resultSetFilters:n}=c.getAddons().reduce((t,{queryParser:e,resultSetFilter:r})=>(t.queryParsers.push(e),t.resultSetFilters.push(r),t),{queryParsers:[],resultSetFilters:[]});t=ft(...r),e=ft(...n)}return{queryParser:t,resultSetFilter:e}}();return pt[i](r,n,s)}export{dt as exec,u as setConfig};
